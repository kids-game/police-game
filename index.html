<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POLICE GAME</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #00f3ff;
            --secondary-color: #0a0a0a;
            --alert-color: #ff003c;
            --warning-color: #ffcc00;
            --glass: rgba(10, 10, 10, 0.9);
        }

        body {
            margin: 0; background: #000; color: var(--primary-color);
            font-family: 'Share Tech Mono', monospace; height: 100vh; overflow: hidden;
        }

        /* Scanlines */
        body::before {
            content: " "; display: block; position: absolute; top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 10; background-size: 100% 2px, 3px 100%; pointer-events: none;
        }

        #login-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000;
            display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 1000;
        }

        #main-interface { display: none; height: 100vh; grid-template-columns: 260px 1fr; grid-template-rows: 60px 1fr; }

        header { grid-column: 1/-1; background: var(--glass); border-bottom: 2px solid var(--primary-color); display: flex; align-items: center; padding: 0 20px; justify-content: space-between; z-index: 20; }

        aside { background: rgba(0, 0, 0, 0.8); border-right: 1px solid var(--primary-color); padding: 20px; display: flex; flex-direction: column; gap: 10px; }

        main { padding: 30px; overflow-y: auto; background: rgba(5, 5, 5, 0.9); }

        .section { display: none; animation: fadeIn 0.4s ease; }
        .section.active { display: block; }

        .cyber-input, .cyber-select {
            width: 100%; background: rgba(0, 243, 255, 0.05); border: 1px solid var(--primary-color);
            color: #fff; padding: 12px; margin-bottom: 15px; font-family: 'Share Tech Mono'; outline: none;
        }

        .cyber-btn {
            background: transparent; border: 1px solid var(--primary-color); color: var(--primary-color);
            padding: 10px 20px; cursor: pointer; font-family: 'Orbitron'; transition: 0.2s;
        }
        .cyber-btn:hover { background: var(--primary-color); color: #000; box-shadow: 0 0 15px var(--primary-color); }

        /* Status Buttons */
        .status-group { display: flex; gap: 10px; margin-bottom: 15px; }
        .status-btn { 
            flex: 1; padding: 10px; border: 1px solid #333; cursor: pointer; text-align: center; opacity: 0.5;
        }
        .status-btn.active[data-status="clean"] { background: #00ff88; color: #000; opacity: 1; border-color: #00ff88; }
        .status-btn.active[data-status="wanted"] { background: var(--alert-color); color: #fff; opacity: 1; border-color: var(--alert-color); }

        /* Results & Cards */
        .result-card {
            border: 1px solid var(--primary-color); background: rgba(0,0,0,0.5);
            padding: 15px; margin-bottom: 15px; display: flex; gap: 20px; position: relative;
        }
        .wanted-border { border: 2px solid var(--alert-color) !important; box-shadow: inset 0 0 15px rgba(255,0,60,0.2); }

        .photo-frame { width: 130px; height: 130px; border: 1px solid var(--primary-color); object-fit: cover; }

        /* Stars */
        .stars { color: var(--warning-color); font-size: 1.2rem; }

        /* Suggestions for 911 */
        .suggestions {
            position: absolute; background: #111; border: 1px solid var(--primary-color);
            width: calc(100% - 30px); z-index: 100; max-height: 150px; overflow-y: auto; display: none;
        }
        .suggestion-item { padding: 10px; cursor: pointer; border-bottom: 1px solid #222; }
        .suggestion-item:hover { background: var(--primary-color); color: #000; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .logo-text { font-family: 'Orbitron'; font-size: 2.5rem; text-shadow: 0 0 10px var(--primary-color); margin-bottom: 20px; }
        
        /* Notification */
        .notification {
            position: fixed; top: 20px; right: 20px; background: var(--primary-color); 
            color: #000; padding: 10px 20px; border-radius: 4px; z-index: 1000;
            font-family: 'Share Tech Mono'; box-shadow: 0 0 15px var(--primary-color);
            animation: slideIn 0.3s ease;
        }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="logo-text">SYSTEM ACCESS</div>
        <input type="password" id="access-code" class="cyber-input" style="width: 250px; text-align: center;" placeholder="PASSWORD">
        <button class="cyber-btn" onclick="checkLogin()">LOGIN</button>
    </div>

    <div id="main-interface">
        <header>
            <div style="font-family: 'Orbitron'; font-weight: bold;">POLICE</div>
            <div id="clock">00:00:00</div>
        </header>

        <aside>
            <button class="cyber-btn" onclick="showSection('search')">–ü–û–®–£–ö</button>
            <button class="cyber-btn" onclick="showSection('add')">–î–û–î–ê–¢–ò/–†–ï–î</button>
            <button class="cyber-btn" onclick="showSection('911')" style="color: var(--alert-color); border-color: var(--alert-color);">911 –í–ò–ö–õ–ò–ö–ò</button>
            <button class="cyber-btn" onclick="exportData()" style="margin-top: auto; border-color: #00ff88; color: #00ff88;">–ï–ö–°–ü–û–†–¢</button>
            <button class="cyber-btn" onclick="importData()" style="border-color: #ffcc00; color: #ffcc00;">–Ü–ú–ü–û–†–¢</button>
        </aside>

        <main>
            <div id="search" class="section active">
                <h2>–ë–ê–ó–ê –î–ê–ù–ò–• –¶–ò–í–Ü–õ–¨–ù–ò–•</h2>
                <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                    <input type="text" id="search-input" class="cyber-input" placeholder="–Ü–º'—è –∞–±–æ –ù–æ–º–µ—Ä –∞–≤—Ç–æ..." onkeyup="renderDatabase(this.value)" style="flex: 1;">
                    <button class="cyber-btn" onclick="clearAllData()" style="border-color: var(--alert-color); color: var(--alert-color); white-space: nowrap;">–û–ß–ò–°–¢–ò–¢–ò –ë–ê–ó–£</button>
                </div>
                <div id="results-container"></div>
            </div>

            <div id="add" class="section">
                <h2 id="form-title">–†–ï–Ñ–°–¢–†–ê–¶–Ü–Ø –£ –ë–ê–ó–Ü</h2>
                <div style="max-width: 600px;">
                    <input type="hidden" id="edit-id">
                    
                    <input type="text" id="new-name" class="cyber-input" placeholder="–ü–Ü–ë">
                    <input type="text" id="new-age" class="cyber-input" placeholder="–í—ñ–∫">
                    
                    <label>–°–¢–ê–¢–£–°:</label>
                    <div class="status-group">
                        <div class="status-btn active" data-status="clean" onclick="setStatus('clean')">CLEAN</div>
                        <div class="status-btn" data-status="wanted" onclick="setStatus('wanted')">WANTED</div>
                    </div>

                    <div id="stars-wrap" style="display: none; margin-bottom: 15px;">
                        <label>–†–Ü–í–ï–ù–¨ –†–û–ó–®–£–ö–£ (–ó–Ü–†–ö–ò):</label>
                        <select id="new-stars" class="cyber-select">
                            <option value="1">‚≠ê (1)</option>
                            <option value="2">‚≠ê‚≠ê (2)</option>
                            <option value="3">‚≠ê‚≠ê‚≠ê (3)</option>
                            <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê (4)</option>
                            <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5)</option>
                        </select>
                    </div>

                    <textarea id="new-desc" class="cyber-input" placeholder="–û–ø–∏—Å / –û—Å–æ–±–ª–∏–≤—ñ –ø—Ä–∏–∫–º–µ—Ç–∏" rows="3"></textarea>
                    
                    <input type="text" id="new-car-model" class="cyber-input" placeholder="–ê–≤—Ç–æ–º–æ–±—ñ–ª—å (–ú–æ–¥–µ–ª—å)">
                    <input type="text" id="new-car-plate" class="cyber-input" placeholder="–ù–æ–º–µ—Ä–Ω–∏–π –∑–Ω–∞–∫">

                    <label class="cyber-btn" style="display: block; text-align: center; margin-bottom: 15px;">
                        üì∏ –í–ò–ë–†–ê–¢–ò –§–û–¢–û
                        <input type="file" id="photo-file" hidden onchange="handlePhoto(this)">
                    </label>
                    <img id="add-preview" style="width: 100px; display: none; margin-bottom: 15px; border: 1px solid var(--primary-color);">

                    <button class="cyber-btn" onclick="saveData()">–ó–ë–ï–†–ï–ì–¢–ò –í –ë–ê–ó–£</button>
                    <button class="cyber-btn" onclick="clearForm()">–°–ö–ò–î–ê–ù–ù–Ø</button>
                </div>
            </div>

            <div id="911" class="section">
                <h2>–î–ò–°–ü–ï–¢–ß–ï–† 911</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    <div style="position: relative;">
                        <h3>–ù–û–í–ò–ô –í–ò–ö–õ–ò–ö</h3>
                        <input type="text" id="call-name" class="cyber-input" placeholder="–Ü–º'—è –∑–∞—è–≤–Ω–∏–∫–∞..." onkeyup="handleCallSearch(this.value)">
                        <div id="call-suggestions" class="suggestions"></div>
                        
                        <input type="text" id="call-loc" class="cyber-input" placeholder="–õ–æ–∫–∞—Ü—ñ—è">
                        <textarea id="call-reason" class="cyber-input" placeholder="–©–æ —Ç—Ä–∞–ø–∏–ª–æ—Å—å?"></textarea>
                        <button class="cyber-btn" onclick="submitCall()">–í–Ü–î–ü–†–ê–í–ò–¢–ò –Æ–ù–Ü–¢</button>
                    </div>
                    <div>
                        <h3>–ê–ö–¢–ò–í–ù–Ü –í–ò–ö–õ–ò–ö–ò</h3>
                        <div id="calls-list"></div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        let db = [];
        let calls = [];
        let currentStatus = "clean";
        let base64Photo = "";

        // –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ localStorage
        function loadFromStorage() {
            const savedDB = localStorage.getItem('police_database');
            const savedCalls = localStorage.getItem('police_calls');
            
            if(savedDB) {
                try {
                    db = JSON.parse(savedDB);
                } catch(e) {
                    db = [];
                    showNotification("–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö", "error");
                }
            }
            
            if(savedCalls) {
                try {
                    calls = JSON.parse(savedCalls);
                } catch(e) {
                    calls = [];
                }
            }
        }

        function saveToStorage() {
            try {
                localStorage.setItem('police_database', JSON.stringify(db));
                localStorage.setItem('police_calls', JSON.stringify(calls));
            } catch(e) {
                showNotification("–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö. –ú–æ–∂–ª–∏–≤–æ, –º–∞–ª–æ –º—ñ—Å—Ü—è.", "error");
            }
        }

        function showNotification(message, type = "success") {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            notification.style.background = type === "error" ? "var(--alert-color)" : "var(--primary-color)";
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        function checkLogin() {
            if(document.getElementById('access-code').value === 'z7JK92mn89p') {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('main-interface').style.display = 'grid';
                loadFromStorage();
                renderDatabase();
                renderCalls();
                showNotification("–°–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞. –î–∞–Ω—ñ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–æ.");
            } else {
                alert("–ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å!");
            }
        }

        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function setStatus(s) {
            currentStatus = s;
            document.querySelectorAll('.status-btn').forEach(b => b.classList.remove('active'));
            document.querySelector(`[data-status="${s}"]`).classList.add('active');
            document.getElementById('stars-wrap').style.display = (s === 'wanted') ? 'block' : 'none';
        }

        function handlePhoto(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    base64Photo = e.target.result;
                    document.getElementById('add-preview').src = e.target.result;
                    document.getElementById('add-preview').style.display = 'block';
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function saveData() {
            const id = document.getElementById('edit-id').value;
            const data = {
                id: id || Date.now(),
                name: document.getElementById('new-name').value,
                age: document.getElementById('new-age').value,
                status: currentStatus,
                stars: (currentStatus === 'wanted') ? document.getElementById('new-stars').value : 0,
                desc: document.getElementById('new-desc').value,
                car: document.getElementById('new-car-model').value,
                plate: document.getElementById('new-car-plate').value.toUpperCase(),
                photo: base64Photo || 'https://via.placeholder.com/150/000/00f3ff?text=NO+PHOTO'
            };

            if(!data.name) return alert("–Ü–º'—è –æ–±–æ–≤'—è–∑–∫–æ–≤–µ!");

            if(id) {
                const idx = db.findIndex(p => p.id == id);
                db[idx] = data;
                showNotification("–ó–∞–ø–∏—Å –æ–Ω–æ–≤–ª–µ–Ω–æ!");
            } else {
                db.push(data);
                showNotification("–ù–æ–≤–∏–π –∑–∞–ø–∏—Å –¥–æ–¥–∞–Ω–æ!");
            }

            clearForm();
            renderDatabase();
            saveToStorage();
            showSection('search');
        }

        function clearForm() {
            document.getElementById('edit-id').value = "";
            document.getElementById('new-name').value = "";
            document.getElementById('new-age').value = "";
            document.getElementById('new-desc').value = "";
            document.getElementById('new-car-model').value = "";
            document.getElementById('new-car-plate').value = "";
            document.getElementById('photo-file').value = "";
            document.getElementById('add-preview').style.display = "none";
            base64Photo = "";
            setStatus('clean');
        }

        function renderDatabase(filter = "") {
            const container = document.getElementById('results-container');
            container.innerHTML = "";
            const query = filter.toLowerCase();

            db.forEach(p => {
                if(p.name.toLowerCase().includes(query) || p.plate.toLowerCase().includes(query) || 
                   p.car.toLowerCase().includes(query) || p.desc.toLowerCase().includes(query)) {
                    let starIcons = "‚≠ê".repeat(p.stars);
                    let cardClass = p.status === 'wanted' ? 'result-card wanted-border' : 'result-card';
                    
                    container.innerHTML += `
                        <div class="${cardClass}">
                            <div style="position:absolute; right:10px; top:10px;">
                                <button class="cyber-btn" onclick="editEntry(${p.id})">‚úèÔ∏è</button>
                                <button class="cyber-btn" onclick="deleteEntry(${p.id})" style="border-color:red; color:red;">üóëÔ∏è</button>
                            </div>
                            <img src="${p.photo}" class="photo-frame" onerror="this.src='https://via.placeholder.com/150/000/00f3ff?text=NO+PHOTO'">
                            <div>
                                <h3 style="margin:0; color:${p.status === 'wanted' ? 'var(--alert-color)' : 'var(--primary-color)'}">
                                    ${p.name} ${p.status === 'wanted' ? '<span class="stars">'+starIcons+'</span>' : ''}
                                </h3>
                                <p>–í–Ü–ö: ${p.age} | –°–¢–ê–¢–£–°: ${p.status.toUpperCase()}</p>
                                <p><strong>–ü–†–ò–ö–ú–ï–¢–ò:</strong> ${p.desc || '–ù–µ–º–∞—î'}</p>
                                <p><strong>–ê–í–¢–û:</strong> ${p.car || '–ù–µ–º–∞—î'} [${p.plate || '–ë–ï–ó –ù–û–ú–ï–†–Ü–í'}]</p>
                            </div>
                        </div>
                    `;
                }
            });
        }

        function editEntry(id) {
            const p = db.find(x => x.id == id);
            if(!p) return;
            
            showSection('add');
            document.getElementById('edit-id').value = p.id;
            document.getElementById('new-name').value = p.name;
            document.getElementById('new-age').value = p.age;
            document.getElementById('new-desc').value = p.desc || '';
            document.getElementById('new-car-model').value = p.car || '';
            document.getElementById('new-car-plate').value = p.plate || '';
            
            if(p.photo && p.photo.startsWith('data:image')) {
                base64Photo = p.photo;
                document.getElementById('add-preview').src = p.photo;
                document.getElementById('add-preview').style.display = 'block';
            } else {
                base64Photo = '';
                document.getElementById('add-preview').style.display = 'none';
            }
            
            setStatus(p.status);
            if(p.status === 'wanted') document.getElementById('new-stars').value = p.stars;
        }

        function deleteEntry(id) {
            if(confirm("–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –∑–∞–ø–∏—Å?")) {
                db = db.filter(x => x.id != id);
                renderDatabase();
                saveToStorage();
                showNotification("–ó–∞–ø–∏—Å –≤–∏–¥–∞–ª–µ–Ω–æ");
            }
        }

        function clearAllData() {
            if(confirm("–¶—è –¥—ñ—è –≤–∏–¥–∞–ª–∏—Ç—å –í–°–Ü –¥–∞–Ω—ñ –∑ –±–∞–∑–∏. –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏?") && 
               confirm("–¶–µ –æ—Å—Ç–∞–Ω–Ω—î –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è. –í—Å—ñ –∑–∞–ø–∏—Å–∏ –±—É–¥—É—Ç—å –≤—Ç—Ä–∞—á–µ–Ω—ñ!")) {
                db = [];
                localStorage.removeItem('police_database');
                renderDatabase();
                showNotification("–í—Å—é –±–∞–∑—É –¥–∞–Ω–∏—Ö –æ—á–∏—â–µ–Ω–æ", "error");
            }
        }

        // --- 911 SMART LOGIC ---
        function handleCallSearch(val) {
            const sugBox = document.getElementById('call-suggestions');
            if(!val) { sugBox.style.display = 'none'; return; }
            
            const matches = db.filter(p => p.name.toLowerCase().includes(val.toLowerCase()));
            if(matches.length > 0) {
                sugBox.innerHTML = matches.map(p => 
                    `<div class="suggestion-item" onclick="fillCall('${p.name.replace(/'/g, "\\'")}')">
                        ${p.name} (${p.status === 'wanted' ? '–†–û–ó–®–£–ö' : '–ß–ò–°–¢–ò–ô'})
                    </div>`
                ).join('');
                sugBox.style.display = 'block';
            } else {
                sugBox.style.display = 'none';
            }
        }

        function fillCall(name) {
            document.getElementById('call-name').value = name;
            document.getElementById('call-suggestions').style.display = 'none';
        }

        function submitCall() {
            const name = document.getElementById('call-name').value;
            const loc = document.getElementById('call-loc').value;
            const reason = document.getElementById('call-reason').value;
            if(!loc || !reason) return alert("–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –ª–æ–∫–∞—Ü—ñ—é —Ç–∞ –ø—Ä–∏—á–∏–Ω—É!");

            calls.unshift({ 
                id: Date.now(), 
                name, 
                loc, 
                reason, 
                time: new Date().toLocaleTimeString(),
                date: new Date().toLocaleDateString()
            });
            
            renderCalls();
            saveToStorage();
            document.getElementById('call-name').value = "";
            document.getElementById('call-loc').value = "";
            document.getElementById('call-reason').value = "";
            showNotification("–í–∏–∫–ª–∏–∫ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ!");
        }

        function renderCalls() {
            const container = document.getElementById('calls-list');
            if(calls.length === 0) {
                container.innerHTML = '<p style="text-align: center; opacity: 0.7;">–ê–∫—Ç–∏–≤–Ω–∏—Ö –≤–∏–∫–ª–∏–∫—ñ–≤ –Ω–µ–º–∞—î</p>';
                return;
            }
            
            container.innerHTML = calls.map(c => `
                <div style="border: 1px solid var(--alert-color); padding: 10px; margin-bottom: 10px; background: rgba(255,0,0,0.1);">
                    <div style="display:flex; justify-content:space-between; font-weight:bold;">
                        <span>üö® –í–ò–ö–õ–ò–ö</span> <span>${c.date} ${c.time}</span>
                    </div>
                    <p><strong>–ó–ê–Ø–í–ù–ò–ö:</strong> ${c.name}</p>
                    <p><strong>–õ–û–ö–ê–¶–Ü–Ø:</strong> ${c.loc}</p>
                    <p><strong>–ü–†–ò–ß–ò–ù–ê:</strong> ${c.reason}</p>
                    <button class="cyber-btn" onclick="closeCall(${c.id})">–ü–†–ò–ô–ù–Ø–¢–ò</button>
                </div>
            `).join('');
        }

        function closeCall(id) {
            calls = calls.filter(c => c.id != id);
            renderCalls();
            saveToStorage();
            showNotification("–í–∏–∫–ª–∏–∫ –∑–∞–∫—Ä–∏—Ç–æ");
        }

        // –ï–∫—Å–ø–æ—Ä—Ç/–Ü–º–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö
        function exportData() {
            const data = {
                database: db,
                calls: calls,
                exportDate: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `police_data_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification("–î–∞–Ω—ñ –µ–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ —É —Ñ–∞–π–ª");
        }

        function importData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = (e) => {
                const file = e.target.files[0];
                if(!file) return;
                
                const reader = new FileReader();
                reader.onload = (event) => {
                    try {
                        const importedData = JSON.parse(event.target.result);
                        
                        if(confirm(`–ó–Ω–∞–π–¥–µ–Ω–æ ${importedData.database?.length || 0} –∑–∞–ø–∏—Å—ñ–≤. –ó–∞–º—ñ–Ω–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω—ñ –¥–∞–Ω—ñ?`)) {
                            if(importedData.database) db = importedData.database;
                            if(importedData.calls) calls = importedData.calls;
                            
                            saveToStorage();
                            renderDatabase();
                            renderCalls();
                            showNotification("–î–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ!");
                        }
                    } catch(error) {
                        alert("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —á–∏—Ç–∞–Ω–Ω—ñ —Ñ–∞–π–ª—É: " + error.message);
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }

        // –ì–æ–¥–∏–Ω–Ω–∏–∫
        setInterval(() => {
            document.getElementById('clock').innerText = new Date().toLocaleTimeString();
        }, 1000);

        // –ê–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ 30 —Å–µ–∫—É–Ω–¥
        setInterval(() => {
            if(db.length > 0 || calls.length > 0) {
                saveToStorage();
            }
        }, 30000);

        // –°–ø—Ä–æ–±–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
        window.addEventListener('load', () => {
            loadFromStorage();
        });
    </script>
</body>
</html>
